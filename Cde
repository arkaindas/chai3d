ctx.textAlign = "left";
ctx.fillStyle = "#000";
ctx.font = `${Math.max(size / 16, 10)}px Poppins, sans-serif`;
this.wrapText(ctx, segments[i], size * 0.35, 0, size * 0.4, size / 12);


// ðŸŸ¢ New helper: wrap long text to fit within segment
wrapText(ctx, text, x, y, maxWidth, lineHeight) {
  const words = text.split(" ");
  let line = "";
  for (let n = 0; n < words.length; n++) {
    const testLine = line + words[n] + " ";
    const testWidth = ctx.measureText(testLine).width;
    if (testWidth > maxWidth && n > 0) {
      ctx.fillText(line, x, y);
      line = words[n] + " ";
      y += lineHeight;
    } else {
      line = testLine;
    }
  }
  ctx.fillText(line, x, y);
}
